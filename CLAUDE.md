# 暗号資産詐欺の見抜き方チェッカー - プロジェクト設定

## プロジェクト概要
- **プロジェクト名**: 暗号資産詐欺の見抜き方チェッカー
- **目的**: 暗号資産関連の詐欺を見抜くためのツール/チェッカー

## プロジェクトパス
- **ルートディレクトリ**: `/mnt/c/Users/music003/OneDrive/ドキュメント/プロジェクト/暗号資産詐欺の見抜き方チェッカー`
- **Windows パス**: `C:\Users\music003\OneDrive\ドキュメント\プロジェクト\暗号資産詐欺の見抜き方チェッカー`

## ファイル管理ルール
- このプロジェクトに関連する全てのファイルは、上記のルートディレクトリに保存すること
- WSL環境で作業する際は、`/mnt/c/...` のパスを使用すること

## メモリの使用方法
- ユーザーの好みやプロジェクトの重要な決定事項を自動的に記憶してください
- コーディングスタイルや使用する技術スタックを覚えておいてください
- 繰り返し参照される情報は自動的に記憶してください
- プロジェクトの進捗状況や実装した機能を記録してください

## 開発環境
- **OS**: WSL2 (Linux on Windows)
- **作業ディレクトリ**: `/home/maxim` (現在のWSL環境)
- **プロジェクトディレクトリ**: `/mnt/c/Users/music003/OneDrive/ドキュメント/プロジェクト/暗号資産詐欺の見抜き方チェッカー`

## 技術スタック
- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **バックエンド**: Vercelサーバーレス関数（Node.js）
- **AI API**: Google Gemini API (gemini-pro model)
- **スタイリング**: カスタムCSS（グラデーション、モダンUI）
- **デプロイ**: Vercel（無料枠）
- **配布形式**: Webアプリケーション（フルスタック）

## 重要な決定事項
1. **完全無料での提供**: Vercelサーバーレス関数でAPIキーを管理し、ユーザーはAPIキー取得不要
2. **セキュリティ重視**: 一般公開を前提とした包括的なセキュリティ対策の実装
   - レート制限（1分間に10リクエスト）
   - 入力検証とサニタイゼーション
   - セキュリティヘッダー（XSS、クリックジャッキング対策）
   - CORS制限
   - APIキー保護（環境変数）
   - リクエストログ
3. **免責事項の実装**: 法的助言ではないことを明示し、利用開始前に同意を必須とする
4. **入力方法**: テキスト直接入力、URL取得、PDFアップロード（PDF機能は今後実装予定）
5. **分析基準**:
   - 非現実的なリターンの約束
   - 技術的主張の実現性
   - チーム情報の透明性
   - トークノミクスの妥当性
   - ロードマップの明確さ
   - 法的コンプライアンス
   - コミュニティとパートナーシップの実績

## 進捗状況
### 完了した機能（v2.1 - セキュリティ強化版）
- ✅ 免責事項・利用規約ページ
- ✅ メインチェッカーページのUI/UX
- ✅ Vercelサーバーレス関数による安全なAPI統合
- ✅ ユーザーAPIキー入力不要の実装
- ✅ テキスト入力機能
- ✅ URL取得機能（基本実装）
- ✅ 詐欺リスクスコアリング（0-100）
- ✅ 3段階リスク評価（高・中・低）
- ✅ 詳細な分析結果表示
- ✅ レスポンシブデザイン
- ✅ Vercelデプロイ設定
- ✅ 環境変数管理（.env、.gitignore）
- ✅ 詳細なデプロイドキュメント

#### セキュリティ機能（v2.1で追加）
- ✅ **レート制限**: IPベース、1分間10リクエスト
- ✅ **入力検証**: 不正データ・インジェクション防止
- ✅ **セキュリティヘッダー**: XSS、クリックジャッキング対策
- ✅ **CORS制限**: 許可オリジンのみアクセス可能
- ✅ **エラーハンドリング**: 安全なエラーメッセージ
- ✅ **リクエストログ**: 異常検知用ログ出力
- ✅ **セキュリティドキュメント**: 包括的なSECURITY.md

### 今後の実装予定
- ⏳ PDF.jsを使用したPDFファイル解析機能
- ⏳ URL取得時のCORS問題解決（プロキシサーバー実装）
- ⏳ 分析結果のエクスポート機能（PDF/CSV）
- ⏳ 過去の分析履歴の保存機能（LocalStorage/IndexedDB）
- ⏳ 複数ホワイトペーパーの比較機能
- ⏳ Upstash Redis/Vercel KVへのレート制限移行（より強固な制限）
- ⏳ 管理者ダッシュボード（使用状況モニタリング）

## ファイル構成
```
暗号資産詐欺の見抜き方チェッカー/
├── api/
│   ├── analyze.js       # Vercelサーバーレス関数（分析API・セキュリティ強化版）
│   └── _middleware.js   # セキュリティミドルウェア（レート制限、入力検証等）
├── index.html           # メインHTML（免責事項 + チェッカー）
├── style.css            # スタイルシート
├── script.js            # JavaScript（UI制御 + API連携 + エラーハンドリング）
├── vercel.json          # Vercel設定ファイル
├── package.json         # Node.jsプロジェクト設定
├── .gitignore           # Git除外設定
├── .env.example         # 環境変数のサンプル
├── README.md            # プロジェクト説明
├── DEPLOYMENT.md        # デプロイ手順
├── SECURITY.md          # セキュリティ対策ドキュメント
└── CLAUDE.md            # プロジェクト設定ファイル
```

## デプロイ情報
- **プラットフォーム**: Vercel
- **デプロイ方法**: GitHub連携による自動デプロイ
- **環境変数**: `GEMINI_API_KEY`（Vercelダッシュボードで設定）
- **ドメイン**: Vercelの自動割り当てドメイン（カスタムドメイン設定可能）
